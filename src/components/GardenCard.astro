---
import MaturityBadge from './MaturityBadge.astro';

interface Props {
  title: string;
  description: string;
  maturity: 'seed' | 'sprout' | 'evergreen';
  slug: string;
  updated: Date;
}

const { title, description, maturity, slug, updated } = Astro.props;

const formatDate = (date: Date) =>
  date.toLocaleDateString('en-US', { year: 'numeric', month: 'short' });
---

<a
  href={`/garden/${slug}`}
  class="group block p-5 rounded-lg bg-surface/50 hover:bg-surface border border-transparent hover:border-rule transition-all duration-200"
>
  <div class="flex items-start justify-between gap-3 mb-3">
    <MaturityBadge maturity={maturity} />
    <span class="section-label shrink-0">{formatDate(updated)}</span>
  </div>

  <h3 class="font-heading text-lg mb-2 group-hover:text-accent transition-colors">
    {title}
  </h3>

  <p class="text-sm text-text-secondary leading-relaxed line-clamp-2">
    {description}
  </p>
</a>
